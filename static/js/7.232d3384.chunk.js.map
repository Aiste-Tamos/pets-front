{"version":3,"sources":["utils/animal.ts","utils/string.ts","components/animal/AnimalListItem.tsx","components/animal/AnimalsList.tsx","components/animal/AnimalsTable.tsx","components/animal/ViewSelector.tsx","components/animal/AnimalsListContainer.tsx","pages/Animals.tsx"],"names":["getAnimalAge","birthTimestamp","value","formatDistance","Date","charAt","toUpperCase","slice","AnimalsListItem","animal","classes","useStyles","Grid","item","xs","md","lg","ListItem","className","color","component","NavLink","to","id","ListItemAvatar","avatar","Avatar","alt","src","image_url","name","ListItemText","Box","Typography","variant","display","details","birth_date","pt","format","makeStyles","theme","alignItems","backgroundColor","fade","palette","background","paper","borderRadius","transition","transitions","create","easing","easeIn","duration","shortest","transform","boxShadow","paddingTop","spacing","AnimalsList","animals","container","map","AnimalsTable","history","useHistory","TableContainer","Table","table","size","aria-label","TableHead","TableRow","headRow","TableCell","align","head","TableBody","hover","onClick","animalId","push","row","weight","AnimalsViewType","primary","dark","text","secondary","width","cursor","textDecoration","ViewSelector","onChange","ToggleButtonGroup","exclusive","e","val","ToggleButton","LIST","TABLE","GET_ANIMALS_QUERY","AnimalsListContainer","viewType","useQuery","loading","error","data","Skeleton","animation","height","length","Animals","useTheme","useState","setViewType","mobile","useMediaQuery","breakpoints","down","useEffect","Page","title","action"],"mappings":"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","file":"static/js/7.232d3384.chunk.js","sourcesContent":["import { formatDistance } from 'date-fns';\n\nimport { capitalizeFirstLetter } from './string';\n\nexport const getAnimalAge = (birthTimestamp: number): string =>\n    capitalizeFirstLetter(formatDistance(birthTimestamp, new Date()));\n","export const capitalizeFirstLetter = (value: string): string => value.charAt(0).toUpperCase() + value.slice(1);\n","import { format } from 'date-fns';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport { fade, Theme } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\nimport { Animal } from '../../graphql/types';\nimport { getAnimalAge } from '../../utils/animal';\n\ninterface AnimalsListItemProps {\n    animal: Animal;\n}\n\nexport default function AnimalsListItem({ animal }: AnimalsListItemProps) {\n    const classes = useStyles();\n    return (\n        <Grid item xs={12} md={6} lg={4}>\n            <ListItem className={classes.item} color=\"secondary\" component={NavLink} to={`/animal/${animal.id}`}>\n                <ListItemAvatar className={classes.avatar}>\n                    <Avatar\n                        alt=\"Animal picture\"\n                        src={animal.image_url ? animal.image_url : `https://eu.ui-avatars.com/api/?name=${animal.name}`}\n                    />\n                </ListItemAvatar>\n                <ListItemText>\n                    <Box>\n                        <Typography variant=\"subtitle1\" display=\"inline\" color=\"textPrimary\">\n                            {`Dog ${animal.name}`}\n                        </Typography>\n                        <Typography variant=\"body1\" color=\"textSecondary\" display=\"inline\">\n                            {` - ${getAnimalAge(+animal.details!.birth_date!)} old`}\n                        </Typography>\n                        <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                            check-in date\n                        </Typography>\n                    </Box>\n                    <Box pt={1}>\n                        <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\">\n                            {`1.6kg black male Puddle, born in ${format(\n                                new Date(+animal.details!.birth_date!),\n                                'yyyy-MM-dd'\n                            )}`}\n                        </Typography>\n                    </Box>\n                </ListItemText>\n            </ListItem>\n        </Grid>\n    );\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    item: {\n        alignItems: 'flex-start',\n        backgroundColor: fade(theme.palette.background.paper, 0.4),\n        borderRadius: 4,\n        transition: theme.transitions.create(['box-shadow', 'transform'], {\n            easing: theme.transitions.easing.easeIn,\n            duration: theme.transitions.duration.shortest,\n        }),\n        '&:hover': {\n            transform: 'translateY(-2px)',\n            boxShadow: '0 4px 8px rgba(0, 0, 0, .2)',\n        },\n    },\n    avatar: {\n        paddingTop: theme.spacing(1),\n    },\n}));\n","import React from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport { Animal } from '../../graphql/types';\nimport AnimalsListItem from './AnimalListItem';\n\ninterface AnimalsListProps {\n    animals: Animal[];\n}\n\nexport default function AnimalsList({ animals }: AnimalsListProps) {\n    return (\n        <Grid container component=\"ul\" spacing={2}>\n            {animals.map(animal => (\n                <AnimalsListItem key={animal.id} animal={animal} />\n            ))}\n        </Grid>\n    );\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { fade, TableContainer, Theme } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Animal } from '../../graphql/types';\nimport { getAnimalAge } from '../../utils/animal';\n\ninterface AnimalsTableProps {\n    animals: Animal[];\n}\n\nexport default function AnimalsTable({ animals }: AnimalsTableProps) {\n    const history = useHistory();\n    const classes = useStyles();\n\n    const onRowClick = (animalId: number) => {\n        history.push(`/animal/${animalId}`);\n    };\n\n    return (\n        <TableContainer>\n            <Table className={classes.table} size=\"small\" aria-label=\"animals\">\n                <TableHead>\n                    <TableRow className={classes.headRow}>\n                        <TableCell align=\"center\" className={classes.head} />\n                        <TableCell align=\"center\" className={classes.head}>\n                            Specie\n                        </TableCell>\n                        <TableCell align=\"center\" className={classes.head}>\n                            Name\n                        </TableCell>\n                        <TableCell align=\"center\" className={classes.head}>\n                            Breed\n                        </TableCell>\n                        <TableCell align=\"center\" className={classes.head}>\n                            Weight, kg\n                        </TableCell>\n                        <TableCell align=\"center\" className={classes.head}>\n                            Age\n                        </TableCell>\n                        <TableCell align=\"center\" className={classes.head}>\n                            Checked in\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {animals.map(animal => (\n                        <TableRow key={animal.id} hover onClick={() => onRowClick(animal.id)} className={classes.row}>\n                            <TableCell align=\"center\">\n                                <Avatar\n                                    alt=\"Animal picture\"\n                                    src={\n                                        animal.image_url\n                                            ? animal.image_url\n                                            : `https://eu.ui-avatars.com/api/?name=${animal.name}`\n                                    }\n                                />\n                            </TableCell>\n                            <TableCell align=\"center\">Dog</TableCell>\n                            <TableCell align=\"center\">{animal.name}</TableCell>\n                            <TableCell align=\"center\">Puddle</TableCell>\n                            <TableCell align=\"center\">{animal.details?.weight}</TableCell>\n                            <TableCell align=\"center\">{getAnimalAge(+animal.details!.birth_date!)}</TableCell>\n                            <TableCell align=\"center\">check-in date</TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    headRow: {\n        backgroundColor: fade(theme.palette.primary.dark, 0.75),\n    },\n    head: {\n        color: theme.palette.text.secondary,\n    },\n    table: {\n        width: '100%',\n        backgroundColor: fade(theme.palette.background.paper, 0.4),\n    },\n    row: {\n        cursor: 'pointer',\n        textDecoration: 'none',\n    },\n}));\n","import React from 'react';\n\nimport ReorderIcon from '@material-ui/icons/Reorder';\nimport ViewModuleIcon from '@material-ui/icons/ViewModule';\nimport { ToggleButtonGroup } from '@material-ui/lab';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\n\ninterface ViewSelectorProps {\n    value: AnimalsViewType;\n    onChange: (type: AnimalsViewType) => void;\n}\n\nexport default function ViewSelector({ value, onChange }: ViewSelectorProps) {\n    return (\n        <ToggleButtonGroup\n            size=\"small\"\n            exclusive\n            value={value}\n            onChange={(e, val) => onChange(val as AnimalsViewType)}\n            aria-label=\"view selector\"\n        >\n            <ToggleButton value={AnimalsViewType.LIST} aria-label={AnimalsViewType.LIST}>\n                <ViewModuleIcon />\n            </ToggleButton>\n            <ToggleButton value={AnimalsViewType.TABLE} aria-label={AnimalsViewType.TABLE}>\n                <ReorderIcon />\n            </ToggleButton>\n        </ToggleButtonGroup>\n    );\n}\n\nexport enum AnimalsViewType {\n    LIST = 'list',\n    TABLE = 'table',\n}\n","import { loader } from 'graphql.macro';\nimport React from 'react';\n\nimport { useQuery } from '@apollo/client';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { Animal } from '../../graphql/types';\nimport AnimalsList from './AnimalsList';\nimport AnimalsTable from './AnimalsTable';\nimport { AnimalsViewType } from './ViewSelector';\n\nconst GET_ANIMALS_QUERY = loader('../../graphql/queries/animal-list.graphql');\n\ninterface Response {\n    animals: Animal[];\n}\n\ninterface AnimalsListContainerProps {\n    viewType: AnimalsViewType;\n}\n\nexport default function AnimalsListContainer({ viewType }: AnimalsListContainerProps) {\n    const { loading, error, data } = useQuery<Response>(GET_ANIMALS_QUERY);\n    if (loading) {\n        return <Skeleton animation=\"wave\" height=\"70vh\" />;\n    }\n\n    if (error) {\n        // TODO: replace with proper UI elements\n        return <p>Error!</p>;\n    }\n\n    if (!data?.animals.length) {\n        // TODO: replace with proper UI elements\n        return <p>No data</p>;\n    }\n\n    if (viewType === AnimalsViewType.TABLE) {\n        return <AnimalsTable animals={data.animals} />;\n    }\n\n    return <AnimalsList animals={data.animals} />;\n}\n","import React, { useEffect, useState } from 'react';\n\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AnimalsListContainer from '../components/animal/AnimalsListContainer';\nimport ViewSelector, { AnimalsViewType } from '../components/animal/ViewSelector';\nimport Page from './Page';\n\nfunction Animals() {\n    const theme = useTheme();\n    // TODO: extract selectedViewType to context or localStore\n    const [viewType, setViewType] = useState<AnimalsViewType>(AnimalsViewType.LIST);\n    const mobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n    useEffect(() => {\n        if (mobile && viewType === AnimalsViewType.TABLE) {\n            setViewType(AnimalsViewType.LIST);\n        }\n    }, [mobile, viewType]);\n\n    const handleViewChange = () => {\n        setViewType(viewType === AnimalsViewType.TABLE ? AnimalsViewType.LIST : AnimalsViewType.TABLE);\n    };\n\n    return (\n        <Page title=\"Animals List\" action={!mobile && <ViewSelector value={viewType} onChange={handleViewChange} />}>\n            <AnimalsListContainer viewType={viewType} />\n        </Page>\n    );\n}\n\nexport default Animals;\n"],"sourceRoot":""}