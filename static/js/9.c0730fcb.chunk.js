(this["webpackJsonppets-front"]=this["webpackJsonppets-front"]||[]).push([[9],{299:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},302:function(e,n,t){"use strict";var a,i,r,c;t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return c})),function(e){e.Healthy="healthy",e.Vaccinated="vaccinated",e.Sick="sick",e.Adopted="adopted"}(a||(a={})),function(e){e.Implanted="Implanted",e.Removed="Removed"}(i||(i={})),function(e){e.Active="Active",e.Inactive="Inactive"}(r||(r={})),function(e){e.General="GENERAL",e.Medical="MEDICAL"}(c||(c={}))},305:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return d}));var a=t(410),i=t(300),r=t.n(i),c=t(299),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var n=Object(a.a)(Number(e),new Date,{locale:r.a});return Object(c.a)(n)}return""},d=function(e){return e?"".concat(e,"kg"):""}},411:function(e,n,t){"use strict";t.r(n);var a=t(86),i=t(4),r=t(0),c=t.n(r),l=t(340),d=t.n(l),o=t(19),s=t(79),u=t(317),m=t(62),v=t(182),b=t(292),j=t(305),g=t(117),k=t(247),h=Object(v.a)((function(){return Object(k.a)({root:{flexGrow:1}})}));var p=function(e){var n=e.children,t=h(),a=c.a.Children.count(n),r=!!Math.floor(12/a);if(!a||a>4)return null;var l=[];return c.a.Children.forEach(n,(function(e,n){l.push(Object(i.jsx)(g.a,{item:!0,xs:12,sm:r,children:e},"grid-col-".concat(n)))})),Object(i.jsx)("div",{className:t.root,children:Object(i.jsx)(g.a,{container:!0,spacing:3,children:l})})},O=t(184),x=t(344),f=t.n(x);var N=function(e){var n=e.animalName,t=e.gender,a=e.species,r=e.color,c=e.breed,l=e.onBack,d=y();return Object(i.jsxs)(u.a,{display:"flex",alignItems:"center",flexDirection:"row",mb:3,children:[Object(i.jsx)(O.a,{className:d.backButton,onClick:l,children:Object(i.jsx)(f.a,{className:d.backIcon})}),Object(i.jsxs)(u.a,{ml:3,children:[n&&Object(i.jsx)(m.a,{variant:"h3",children:n}),Object(i.jsxs)(u.a,{display:"flex",mt:1,children:[a&&Object(i.jsx)(m.a,{variant:"body2",className:d.property,children:a}),t&&Object(i.jsx)(m.a,{variant:"body2",className:d.property,children:t}),r&&Object(i.jsx)(m.a,{variant:"body2",className:d.property,children:r}),c&&Object(i.jsx)(m.a,{variant:"body2",className:d.property,children:c})]})]})]})},y=Object(v.a)((function(e){return{property:{"&:not(:last-child)":{paddingRight:e.spacing(2),marginRight:e.spacing(2),position:"relative","&::after":{content:'""',display:"block",position:"absolute",height:"100%",width:"2px",backgroundColor:e.palette.tertiary.dark,top:0,right:0}}},backButton:{backgroundColor:e.palette.primary.main,"&:hover,&:focus":{backgroundColor:e.palette.primary.dark}},backIcon:{color:e.palette.tertiary.light}}})),S=t(27),C=t(288),F=t(313),I=t.n(F),D=t(349),E=t(302),A="All",w=Object(v.a)((function(){return{button:{border:"none",backgroundColor:"transparent"}}}));function G(e){var n=e.activeFilter,t=e.onChange;return Object(i.jsxs)(g.a,{container:!0,spacing:2,children:[Object(i.jsx)(T,{label:A,active:n===A,onClick:function(){return t(A)}}),Object.keys(E.a).map((function(e){return Object(i.jsx)(T,{label:e,active:n===E.a[e],onClick:function(){return t(E.a[e])}},e)}))]})}function T(e){var n=e.label,t=e.active,a=e.onClick,r=w();return Object(i.jsx)(g.a,{item:!0,children:Object(i.jsx)("button",{className:r.button,type:"button",onClick:function(){return a(n)},children:Object(i.jsx)(D.a,{label:n,clickable:!0,color:t?"primary":"default"})})})}var V=t(250),W=t(186),M=t(383),R=t(386),B=t(404),P=t(405),L=t(420),$=t(295),U=t.n($),q=t(345),H=t.n(q),J=t(346),Q=t.n(J),z=t(409),K=t(300),X=t.n(K);function Y(e){var n,t=e.event,c=Z(),l=Object(r.useState)(!1),d=Object(a.a)(l,2),o=d[0],s=d[1],u=(null===(n=t.type)||void 0===n?void 0:n.type)||"",v="Event type - ".concat(u),b="".concat(t.dateTime?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd",t=Number.parseInt(e,10);return Number.isNaN(t)?"":Object(z.a)(t,n,{locale:X.a})}(t.dateTime):"-"," / Author");return Object(i.jsxs)(M.a,{className:c.root,children:[Object(i.jsx)(R.a,{avatar:Object(i.jsx)(L.a,{"aria-label":"event",alt:"event",children:Object(i.jsx)(H.a,{})}),title:Object(i.jsx)(m.a,{component:"h6",className:c.headerText,noWrap:!0,children:v}),subheader:b,action:Object(i.jsx)(O.a,{"aria-label":"settings",children:Object(i.jsx)(Q.a,{})}),onClick:function(){return s(!o)}}),Object(i.jsx)(B.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(i.jsxs)(P.a,{className:c.content,children:[Object(i.jsx)(m.a,{color:"textPrimary",className:c.label,children:"Expenses:"}),Object(i.jsx)(m.a,{paragraph:!0,color:"textSecondary",children:t.expenses||"-"}),Object(i.jsx)(m.a,{color:"textPrimary",className:c.label,children:"Comments:"}),Object(i.jsx)(m.a,{paragraph:!0,color:"textSecondary",children:t.comments||"-"}),Object(i.jsx)(m.a,{color:"textPrimary",className:c.label,children:"Author:"}),Object(i.jsx)(m.a,{paragraph:!0,color:"textSecondary",children:"-"})]})})]})}var Z=U()((function(e){var n;return{root:{width:"100%"},headerText:(n={maxWidth:150},Object(S.a)(n,e.breakpoints.up("md"),{maxWidth:350}),Object(S.a)(n,e.breakpoints.up("lg"),{maxWidth:600}),Object(S.a)(n,"fontSize",20),Object(S.a)(n,"lineHeight","24px"),Object(S.a)(n,"fontWeight",600),n),content:{wordBreak:"break-word"},label:{fontWeight:e.typography.fontWeightBold}}})),_=Object(v.a)((function(){return Object(k.a)({root:{width:"100%"}})}));var ee,ne=function(e){var n=e.events,t=_();return(null===n||void 0===n?void 0:n.length)?Object(i.jsx)(V.a,{className:t.root,children:n.map((function(e){return Object(i.jsx)(W.a,{disableGutters:!0,children:Object(i.jsx)(Y,{event:e})},e.id)}))}):Object(i.jsx)(u.a,{mt:2,children:Object(i.jsx)(m.a,{variant:"body1",children:"No events found."})})},te=t(347),ae=t.n(te);function ie(e){var n=e.sortingMode,t=e.onChange;return Object(i.jsxs)(u.a,{mt:1,display:"flex",alignItems:"center",children:[Object(i.jsx)(O.a,{"aria-label":"Sort button",onClick:function(){n===ee.DESCENDING?t(ee.ASCENDING):t(ee.DESCENDING)},children:Object(i.jsx)(ae.a,{})}),Object(i.jsxs)(m.a,{variant:"subtitle1",children:["Sort by date (",n,")"]})]})}!function(e){e.DESCENDING="descending",e.ASCENDING="ascending"}(ee||(ee={}));var re=Object(v.a)((function(e){return{root:Object(S.a)({backgroundColor:e.palette.tertiary.main,marginTop:e.spacing(2),marginLeft:-e.spacing(2),marginRight:-e.spacing(2)},e.breakpoints.up("lg"),{margin:0})}}));function ce(e){var n=e.events,t=re(),c=Object(r.useState)(A),l=Object(a.a)(c,2),d=l[0],o=l[1],s=Object(r.useState)(ee.DESCENDING),v=Object(a.a)(s,2),b=v[0],j=v[1],g=Object(r.useCallback)((function(e,n){if(!e||!n)return 0;var t=parseInt(e.dateTime,10),a=parseInt(n.dateTime,10);return b===ee.DESCENDING?a-t:t-a}),[b]),k=Object(r.useState)(n.sort(g)),h=Object(a.a)(k,2),p=h[0],O=h[1];return Object(r.useEffect)((function(){O(n.filter((function(e){return e.category===d||d===A})).sort(g))}),[d,n,g]),Object(i.jsxs)(u.a,{className:t.root,children:[Object(i.jsxs)(u.a,{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(i.jsx)(m.a,{variant:"h5",component:"h3",children:"Events"}),Object(i.jsx)(C.a,{color:"primary",variant:"contained",startIcon:Object(i.jsx)(I.a,{}),children:"Create"})]}),Object(i.jsx)(G,{activeFilter:d,onChange:function(e){o(e)}}),Object(i.jsx)(ie,{sortingMode:b,onChange:function(e){j(e)}}),Object(i.jsx)(ne,{events:p})]})}var le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAnimal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"language"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:{kind:"StringValue",value:"lt",block:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"animal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"birthDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allergy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"food"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"breed"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"events"},arguments:[{kind:"Argument",name:{kind:"Name",value:"language"},value:{kind:"Variable",name:{kind:"Name",value:"language"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"animalAll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"animalId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dateTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expenses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:697,source:{body:'query GetAnimal($id: Int!, $language: String! = "lt") {\n    animal(id: $id) {\n        id\n        name\n        details {\n            gender {\n                value\n            }\n            color {\n                id\n                value\n            }\n            birthDate\n            weight\n            allergy\n            food\n            breed {\n                id\n                value\n            }\n        }\n        imageUrl\n    }\n    events(language: $language) {\n        animalAll(animalId: $id) {\n            id\n            category\n            type {\n                id\n                type\n            }\n            dateTime\n            expenses\n            comments\n        }\n    }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};var de=function(e){var n,t,a,r,c,l,v,g,k,h,O,x,f,y=e.onLoad,S=Object(o.h)().id,C=oe(),F=Object(o.f)(),I=Object(s.useQuery)(le,{variables:{id:Number(S)},onCompleted:function(e){var n=e.animal;return y?y(n):void 0}}),D=I.loading,E=I.error,A=I.data;if(D)return Object(i.jsx)(b.a,{animation:"wave",variant:"rect",height:"70vh"});if(E)return Object(i.jsx)("p",{children:"Error!"});if(!(null===A||void 0===A?void 0:A.animal))return Object(i.jsx)("p",{children:"No data!"});var w=A.animal,G=A.events,T=(null===(n=w.details)||void 0===n?void 0:n.birthDate)?Object(j.a)(w.details.birthDate):"",V=null!==(t=null===G||void 0===G||null===(a=G[0])||void 0===a?void 0:a.animalAll)&&void 0!==t?t:[];return Object(i.jsx)("div",{className:C.root,children:Object(i.jsxs)(p,{children:[Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(N,{animalName:w.name,gender:null===(r=w.details)||void 0===r||null===(c=r.gender)||void 0===c?void 0:c.value,species:null===(l=w.details)||void 0===l||null===(v=l.species)||void 0===v?void 0:v.value,color:null===(g=w.details)||void 0===g||null===(k=g.color)||void 0===k?void 0:k.value,onBack:function(){return F.goBack()},breed:null===(h=w.details)||void 0===h||null===(O=h.breed)||void 0===O?void 0:O.value}),Object(i.jsx)(d.a,{src:w.imageUrl,aspectRatio:1.5,cover:!0}),w.details&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(u.a,{mt:3,mb:2,children:[w.microchip&&Object(i.jsx)(m.a,{variant:"body1",className:C.secondaryProperty,children:"Microchip Id - ".concat(w.microchip)}),w.registration&&Object(i.jsx)(m.a,{variant:"body1",className:C.secondaryProperty,children:"Registration No - ".concat(null===(x=w.registration)||void 0===x?void 0:x.registrationNo)})]}),Object(i.jsxs)(u.a,{display:"flex",flexDirection:"column",alignItems:"flexStart",justifyContent:"flexStart",children:[Object(i.jsx)(m.a,{variant:"body2",children:"Age - ".concat(T)}),w.details.weight&&Object(i.jsx)(m.a,{variant:"body2",children:"Weight - ".concat(Object(j.b)(w.details.weight))}),Object(i.jsx)(m.a,{variant:"body2",children:"Color - ".concat(null===(f=w.details.color)||void 0===f?void 0:f.value)}),Object(i.jsx)(m.a,{variant:"body2",children:w.comments})]})]}),Object(i.jsx)(u.a,{mt:1,children:Object(i.jsxs)(m.a,{variant:"body1",children:["Referencing Animal ID:",S]})})]}),Object(i.jsx)(u.a,{className:C.eventsContainer,py:3,px:2,children:Object(i.jsx)(ce,{events:V})})]})})},oe=Object(v.a)((function(e){return{root:{flexGrow:1,width:"100%"},animalName:{color:e.palette.primary.dark},animalMeta:{color:e.palette.grey[600]},secondaryProperty:{marginBottom:e.spacing(2),fontWeight:500},eventsHeader:{fontWeight:400},eventsContainer:{backgroundColor:e.palette.tertiary.main}}})),se=t(136);n.default=function(){var e=Object(r.useState)(""),n=Object(a.a)(e,2),t=n[0],c=n[1];return Object(i.jsx)(se.a,{title:null!==t&&void 0!==t?t:"Pet details",children:Object(i.jsx)(de,{onLoad:function(e){var n;return c(null!==(n=e.name)&&void 0!==n?n:"")}})})}}}]);
//# sourceMappingURL=9.c0730fcb.chunk.js.map