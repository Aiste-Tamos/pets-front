(this["webpackJsonppets-front"]=this["webpackJsonppets-front"]||[]).push([[9],{299:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},302:function(e,n,t){"use strict";var a,i,r,c;t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return c})),function(e){e.Healthy="healthy",e.Vaccinated="vaccinated",e.Sick="sick",e.Adopted="adopted"}(a||(a={})),function(e){e.Implanted="Implanted",e.Removed="Removed"}(i||(i={})),function(e){e.Active="Active",e.Inactive="Inactive"}(r||(r={})),function(e){e.General="GENERAL",e.Medical="MEDICAL"}(c||(c={}))},305:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return d}));var a=t(409),i=t(300),r=t.n(i),c=t(299),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var n=Object(a.a)(Number(e),new Date,{locale:r.a});return Object(c.a)(n)}return""},d=function(e){return e?"".concat(e,"kg"):""}},411:function(e,n,t){"use strict";t.r(n);var a=t(86),i=t(4),r=t(0),c=t.n(r),l=t(340),d=t.n(l),s=t(19),o=t(79),u=t(117),m=t(317),v=t(62),b=t(182),j=t(292),k=t(305),g=t(247),h=Object(b.a)((function(){return Object(g.a)({root:{flexGrow:1}})}));var O=function(e){var n=e.children,t=h(),a=c.a.Children.count(n),r=!!Math.floor(12/a);if(!a||a>4)return null;var l=[];return c.a.Children.forEach(n,(function(e,n){l.push(Object(i.jsx)(u.a,{item:!0,xs:12,sm:r,children:e},"grid-col-".concat(n)))})),Object(i.jsx)("div",{className:t.root,children:Object(i.jsx)(u.a,{container:!0,spacing:3,children:l})})},f=t(27),p=t(288),x=t(313),N=t.n(x),y=t(348),S=t(302),F="All",C=Object(b.a)((function(){return{button:{border:"none",backgroundColor:"transparent"}}}));function D(e){var n=e.activeFilter,t=e.onChange;return Object(i.jsxs)(u.a,{container:!0,spacing:2,children:[Object(i.jsx)(I,{label:F,active:n===F,onClick:function(){return t(F)}}),Object.keys(S.a).map((function(e){return Object(i.jsx)(I,{label:e,active:n===S.a[e],onClick:function(){return t(S.a[e])}},e)}))]})}function I(e){var n=e.label,t=e.active,a=e.onClick,r=C();return Object(i.jsx)(u.a,{item:!0,children:Object(i.jsx)("button",{className:r.button,type:"button",onClick:function(){return a(n)},children:Object(i.jsx)(y.a,{label:n,clickable:!0,color:t?"primary":"default"})})})}var A=t(250),E=t(186),G=t(382),w=t(385),T=t(184),V=t(403),M=t(404),W=t(419),L=t(295),R=t.n(L),$=t(344),P=t.n($),U=t(345),q=t.n(U),B=t(408),H=t(300),J=t.n(H);function Q(e){var n,t=e.event,c=z(),l=Object(r.useState)(!1),d=Object(a.a)(l,2),s=d[0],o=d[1],u=(null===(n=t.type)||void 0===n?void 0:n.type)||"",m="Event type - ".concat(u),b="".concat(t.dateTime?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd",t=Number.parseInt(e,10);return Number.isNaN(t)?"":Object(B.a)(t,n,{locale:J.a})}(t.dateTime):"-"," / Author");return Object(i.jsxs)(G.a,{className:c.root,children:[Object(i.jsx)(w.a,{avatar:Object(i.jsx)(W.a,{"aria-label":"event",alt:"event",children:Object(i.jsx)(P.a,{})}),title:Object(i.jsx)(v.a,{component:"h6",className:c.headerText,noWrap:!0,children:m}),subheader:b,action:Object(i.jsx)(T.a,{"aria-label":"settings",children:Object(i.jsx)(q.a,{})}),onClick:function(){return o(!s)}}),Object(i.jsx)(V.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(i.jsxs)(M.a,{className:c.content,children:[Object(i.jsx)(v.a,{color:"textPrimary",className:c.label,children:"Expenses:"}),Object(i.jsx)(v.a,{paragraph:!0,color:"textSecondary",children:t.expenses||"-"}),Object(i.jsx)(v.a,{color:"textPrimary",className:c.label,children:"Comments:"}),Object(i.jsx)(v.a,{paragraph:!0,color:"textSecondary",children:t.comments||"-"}),Object(i.jsx)(v.a,{color:"textPrimary",className:c.label,children:"Author:"}),Object(i.jsx)(v.a,{paragraph:!0,color:"textSecondary",children:"-"})]})})]})}var z=R()((function(e){var n;return{root:{width:"100%"},headerText:(n={maxWidth:150},Object(f.a)(n,e.breakpoints.up("md"),{maxWidth:350}),Object(f.a)(n,e.breakpoints.up("lg"),{maxWidth:600}),Object(f.a)(n,"fontSize",20),Object(f.a)(n,"lineHeight","24px"),Object(f.a)(n,"fontWeight",600),n),content:{wordBreak:"break-word"},label:{fontWeight:e.typography.fontWeightBold}}})),K=Object(b.a)((function(){return Object(g.a)({root:{width:"100%"}})}));var X,Y=function(e){var n=e.events,t=K();return(null===n||void 0===n?void 0:n.length)?Object(i.jsx)(A.a,{className:t.root,children:n.map((function(e){return Object(i.jsx)(E.a,{disableGutters:!0,children:Object(i.jsx)(Q,{event:e})},e.id)}))}):Object(i.jsx)(m.a,{mt:2,children:Object(i.jsx)(v.a,{variant:"body1",children:"No events found."})})},Z=t(346),_=t.n(Z);function ee(e){var n=e.sortingMode,t=e.onChange;return Object(i.jsxs)(m.a,{mt:1,display:"flex",alignItems:"center",children:[Object(i.jsx)(T.a,{"aria-label":"Sort button",onClick:function(){n===X.DESCENDING?t(X.ASCENDING):t(X.DESCENDING)},children:Object(i.jsx)(_.a,{})}),Object(i.jsxs)(v.a,{variant:"subtitle1",children:["Sort by date (",n,")"]})]})}!function(e){e.DESCENDING="descending",e.ASCENDING="ascending"}(X||(X={}));var ne=Object(b.a)((function(e){return{root:Object(f.a)({backgroundColor:e.palette.tertiary.main,marginTop:e.spacing(2),marginLeft:-e.spacing(2),marginRight:-e.spacing(2)},e.breakpoints.up("lg"),{margin:0})}}));function te(e){var n=e.events,t=ne(),c=Object(r.useState)(F),l=Object(a.a)(c,2),d=l[0],s=l[1],o=Object(r.useState)(X.DESCENDING),u=Object(a.a)(o,2),b=u[0],j=u[1],k=Object(r.useCallback)((function(e,n){if(!e||!n)return 0;var t=parseInt(e.dateTime,10),a=parseInt(n.dateTime,10);return b===X.DESCENDING?a-t:t-a}),[b]),g=Object(r.useState)(n.sort(k)),h=Object(a.a)(g,2),O=h[0],f=h[1];return Object(r.useEffect)((function(){f(n.filter((function(e){return e.category===d||d===F})).sort(k))}),[d,n,k]),Object(i.jsxs)(m.a,{p:3,className:t.root,children:[Object(i.jsxs)(m.a,{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(i.jsx)(v.a,{variant:"h5",component:"h3",children:"Animal history"}),Object(i.jsx)(p.a,{color:"primary",variant:"contained",startIcon:Object(i.jsx)(N.a,{}),children:"Create"})]}),Object(i.jsx)(D,{activeFilter:d,onChange:function(e){s(e)}}),Object(i.jsx)(ee,{sortingMode:b,onChange:function(e){j(e)}}),Object(i.jsx)(Y,{events:O})]})}var ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAnimal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"language"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:{kind:"StringValue",value:"lt",block:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"animal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"birthDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allergy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"food"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"breed"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"events"},arguments:[{kind:"Argument",name:{kind:"Name",value:"language"},value:{kind:"Variable",name:{kind:"Name",value:"language"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"animalAll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"animalId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dateTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expenses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:697,source:{body:'query GetAnimal($id: Int!, $language: String! = "lt") {\n    animal(id: $id) {\n        id\n        name\n        details {\n            gender {\n                value\n            }\n            color {\n                id\n                value\n            }\n            birthDate\n            weight\n            allergy\n            food\n            breed {\n                id\n                value\n            }\n        }\n        imageUrl\n    }\n    events(language: $language) {\n        animalAll(animalId: $id) {\n            id\n            category\n            type {\n                id\n                type\n            }\n            dateTime\n            expenses\n            comments\n        }\n    }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};var ie=function(e){var n,t,a,r=e.onLoad,c=Object(s.h)().id,l=re(),b=Object(o.useQuery)(ae,{variables:{id:Number(c)},onCompleted:function(e){var n=e.animal;return r?r(n):void 0}}),g=b.loading,h=b.error,f=b.data;if(g)return Object(i.jsx)(j.a,{animation:"wave",variant:"rect",height:"70vh"});if(h)return Object(i.jsx)("p",{children:"Error!"});if(!(null===f||void 0===f?void 0:f.animal))return Object(i.jsx)("p",{children:"No data!"});var p=f.animal,x=f.events,N=(null===(n=p.details)||void 0===n?void 0:n.birthDate)?Object(k.a)(p.details.birthDate):"",y=null!==(t=null===x||void 0===x||null===(a=x[0])||void 0===a?void 0:a.animalAll)&&void 0!==t?t:[];return Object(i.jsxs)(u.a,{container:!0,spacing:2,children:[Object(i.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(i.jsxs)(O,{children:[Object(i.jsx)(d.a,{src:p.imageUrl,aspectRatio:16/9}),Object(i.jsxs)(i.Fragment,{children:[p.details&&Object(i.jsx)(m.a,{mt:1,children:Object(i.jsx)(v.a,{className:l.animalMeta,variant:"body1",children:"".concat(p.details.breed,", ").concat(p.details.gender,", ").concat(Object(k.b)(p.details.weight),", ").concat(p.details.color,", ").concat(N)})}),Object(i.jsx)(m.a,{mt:1,children:Object(i.jsxs)(v.a,{variant:"body1",children:["Referencing Animal ID:",c]})})]})]})}),Object(i.jsx)(u.a,{item:!0,xs:12,lg:6,children:Object(i.jsx)(te,{events:y})})]})},re=Object(b.a)((function(e){return{root:{flexGrow:1},animalName:{color:e.palette.primary.dark},animalMeta:{color:e.palette.grey[600]}}})),ce=t(136);n.default=function(){var e=Object(r.useState)(""),n=Object(a.a)(e,2),t=n[0],c=n[1];return Object(i.jsx)(ce.a,{title:null!==t&&void 0!==t?t:"Pet details",children:Object(i.jsx)(ie,{onLoad:function(e){var n;return c(null!==(n=e.name)&&void 0!==n?n:"")}})})}}}]);
//# sourceMappingURL=9.0a15a69b.chunk.js.map